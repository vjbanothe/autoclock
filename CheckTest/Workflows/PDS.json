[
  {
    "workflowName": "ProblemDeliveryRules",
    "rules": [
      {
        "ruleName": "ConfirmedButNotEnroutToPickup1",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"confirmed\" AND input1.TotalSecondsFromConfirmed >= 100  AND input1.TotalSecondsFromConfirmed < 200",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "1",
        "externalActions": "UpdateFlag,SendNotification",
        "smsText": "Slide to start delivery and please head to pickup location.",
        "notificationText": "Please head to pickup location.",
        "ruleStatus": "Not Moving Pickup 1"
      },
      {
        "ruleName": "ConfirmedButNotEnroutToPickup2",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"confirmed\" AND input1.TotalSecondsFromConfirmed >= 200  AND input1.TotalSecondsFromConfirmed < 300",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "2",
        "externalActions": "UpdateFlag,SendNotification",
        "smsText": "Please head to the pickup location before your delivery is reassigned",
        "notificationText": "Please head to the pickup location before your delivery is reassigned",
        "ruleStatus": "Not Moving Pickup 2"
      },
      {
        "ruleName": "ConfirmedButNotEnroutToPickup3",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"confirmed\" AND input1.TotalSecondsFromConfirmed >= 300  AND input1.TotalSecondsFromConfirmed < 400",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "3",
        "externalActions": "RemoveDriver",
        "smsText": "",
        "notificationText": "",
        "ruleStatus": "Not Moving Pickup 3"
      },
      {
        "ruleName": "StartEnroutAndAtSameLocation1",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_pickup\" AND input1.SameLocationDurationInSecond >= 300  AND input1.SameLocationDurationInSecond < 390",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "4",
        "externalActions": "UpdateFlag,SendNotification",
        "smsText": "Oops, looks like you are not moving or going away from pickup. Please head to pickup location.",
        "notificationText": "Oops, looks like you are not moving or going away from pickup. Please head to pickup location.",
        "ruleStatus": "Not Moving Pickup 1"
      },
      {
        "ruleName": "StartEnroutAndAtSameLocation2",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_pickup\" AND input1.SameLocationDurationInSecond >= 390  AND input1.SameLocationDurationInSecond < 480",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "5",
        "externalActions": "UpdateFlag,SendNotification",
        "smsText": "Temporarily open your app to show us you are heading towards the pickup",
        "notificationText": "Temporarily open your app to show us you are heading towards the pickup",
        "ruleStatus": "Not Moving Pickup 2"
      },
      {
        "ruleName": "StartEnroutAndAtSameLocation3",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_pickup\" AND input1.SameLocationDurationInSecond >= 480  AND input1.SameLocationDurationInSecond < 570",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "5",
        "externalActions": "UpdateFlag,SendNotification",
        "smsText": "Head to the pickup location before your delivery is reassigned",
        "notificationText": "Head to the pickup location before your delivery is reassigned",
        "ruleStatus": "Not Moving Pickup 2"
      },
      {
        "ruleName": "StartEnroutAndAtSameLocation4",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"confirmed\" AND input1.TotalSecondsFromConfirmed >= 570  AND input1.TotalSecondsFromConfirmed < 600",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "3",
        "externalActions": "RemoveDriver",
        "smsText": "",
        "notificationText": "",
        "ruleStatus": "Not Moving Pickup 4"
      },
      {
        "ruleName": "StartEnroutAwayFromPickup1",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_pickup\" AND input1.MovingAwayDurationInSecond >= 300  AND input1.MovingAwayDurationInSecond < 390",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "7",
        "externalActions": "UpdateFlag,SendNotification",
        "smsText": "Oops, looks like you are not moving or going away from pickup. Please head to pickup location.",
        "notificationText": "Oops, looks like you are not moving or going away from pickup. Please head to pickup location.",
        "ruleStatus": "Moving Away Pickup 1"
      },
      {
        "ruleName": "StartEnroutAwayFromPickup2",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_pickup\" AND input1.MovingAwayDurationInSecond >= 390  AND input1.MovingAwayDurationInSecond < 480",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "8",
        "externalActions": "SendNotification",
        "smsText": "Please head to the pickup location before your delivery is reassigned",
        "notificationText": "Please head to the pickup location before your delivery is reassigned",
        "ruleStatus": "Moving Away Pickup 2"
      },
      {
        "ruleName": "StartEnroutAwayFromPickup3",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"confirmed\" AND input1.TotalSecondsFromConfirmed >= 480  AND input1.TotalSecondsFromConfirmed < 570",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "3",
        "externalActions": "RemoveDriver",
        "smsText": "",
        "notificationText": "",
        "ruleStatus": "Moving Away Pickup 3"
      },
      {
        "ruleName": "ArrivedAtPickupWithoutGeofence",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "(input1.LastEventName == \"arrived_at_store\" OR input1.LastEventName == \"arrived_at_store\") AND input1.IsNotFoundGeofenceAtPickupEvent",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "10",
        "externalActions": "UpdateFlag",
        "smsText": "",
        "notificationText": "",
        "ruleStatus": "ArriveAtPickup No-Geo"
      },
      {
        "ruleName": "StartOutForDeliveryAndAtSameLocation1",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_delivery\" AND input1.SameLocationDurationInSecond >= 120  AND input1.SameLocationDurationInSecond < 600",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "11",
        "externalActions": "SendNotification",
        "smsText": "Please head to the Drop-off Location",
        "notificationText": "Please head to the Drop-off Location",
        "ruleStatus": "Not Moving Dropoff"
      },
      {
        "ruleName": "DeliveredWithoutGeofence",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"delivered\" AND input1.IsNotFoundGeofenceAtDropoffEvent",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "12",
        "externalActions": "UpdateFlag",
        "smsText": "",
        "notificationText": "",
        "ruleStatus": "Delivered No-Geo"
      },
      {
        "ruleName": "StartOutForDeliveryAndAtAwayFromDropOff",
        "operator": null,
        "errorMessage": "One or more adjust rules failed.",
        "errorType": "Error",
        "expression": "input1.LastEventName == \"enroute_to_delivery\" AND input1.MovingAwayDurationInSecond >= 100  AND input1.MovingAwayDurationInSecond < 600",
        "ruleExpressionType": "LambdaExpression",
        "successEvent": "13",
        "externalActions": "SendNotification",
        "smsText": "",
        "notificationText": "Please head to the dropoff location.we observed you moving away",
        "ruleStatus": "Moving Away From DropOff"
      }
    ]
  }
]